(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{9835:function(e,t,r){Promise.resolve().then(r.bind(r,3341))},3341:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7437),s=r(7138),a=r(6648),i=r(2234),o=r(7440),c=r(9787);function d(){let{items:e,updateQuantity:t,removeFromCart:r,getTotalPrice:d,getTotalItems:l}=(0,i.j)();return 0===e.length?(0,n.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,n.jsx)("h1",{className:"font-heading text-4xl font-bold text-deep-forest mb-8",children:"Warenkorb"}),(0,n.jsxs)("div",{className:"text-center py-16",children:[(0,n.jsx)("p",{className:"text-lg text-gray-mid mb-6",children:"Dein Warenkorb ist leer."}),(0,n.jsx)(s.default,{href:"/products",children:(0,n.jsx)(c.Z,{variant:"primary",children:"Produkte entdecken"})})]})]}):(0,n.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,n.jsx)("h1",{className:"font-heading text-4xl font-bold text-deep-forest mb-8",children:"Warenkorb"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,n.jsx)("div",{className:"md:col-span-2 space-y-4",children:e.map(e=>(0,n.jsxs)("div",{className:"bg-white rounded-eco border border-gray-low p-6 flex flex-col md:flex-row gap-6",children:[(0,n.jsx)("div",{className:"relative w-full md:w-32 h-32 bg-off-white rounded-eco overflow-hidden flex-shrink-0",children:(0,n.jsx)(a.default,{src:e.product.image||"/images/placeholder.jpg",alt:e.product.name,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, 128px"})}),(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsx)("h3",{className:"font-heading text-xl font-semibold text-deep-forest mb-2",children:e.product.name}),(0,n.jsxs)("p",{className:"text-sm text-gray-mid mb-4",children:[(0,o.T)(e.product.price)," pro St\xfcck"]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center border border-gray-low rounded-eco",children:[(0,n.jsx)("button",{onClick:()=>t(e.product.id,e.quantity-1),className:"px-3 py-1 hover:bg-gray-low transition-colors","aria-label":"Menge reduzieren",children:"âˆ’"}),(0,n.jsx)("span",{className:"px-4 py-1 min-w-[3rem] text-center",children:e.quantity}),(0,n.jsx)("button",{onClick:()=>t(e.product.id,e.quantity+1),className:"px-3 py-1 hover:bg-gray-low transition-colors","aria-label":"Menge erh\xf6hen",children:"+"})]}),(0,n.jsx)("button",{onClick:()=>r(e.product.id),className:"text-sm text-red-600 hover:text-red-800",children:"Entfernen"})]})]}),(0,n.jsx)("div",{className:"text-right",children:(0,n.jsx)("p",{className:"font-heading text-xl font-bold text-deep-forest",children:(0,o.T)(e.product.price*e.quantity)})})]},e.product.id))}),(0,n.jsx)("div",{className:"md:col-span-1",children:(0,n.jsxs)("div",{className:"bg-white rounded-eco border border-gray-low p-6 sticky top-24",children:[(0,n.jsx)("h2",{className:"font-heading text-xl font-bold text-deep-forest mb-4",children:"Zusammenfassung"}),(0,n.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,n.jsxs)("div",{className:"flex justify-between text-graphite",children:[(0,n.jsxs)("span",{children:["Zwischensumme (",l()," Artikel)"]}),(0,n.jsx)("span",{children:(0,o.T)(d())})]}),(0,n.jsxs)("div",{className:"flex justify-between text-graphite",children:[(0,n.jsx)("span",{children:"Versand"}),(0,n.jsx)("span",{children:"Kostenlos"})]}),(0,n.jsxs)("div",{className:"border-t border-gray-low pt-3 flex justify-between",children:[(0,n.jsx)("span",{className:"font-heading font-bold text-deep-forest",children:"Gesamt"}),(0,n.jsx)("span",{className:"font-heading font-bold text-deep-forest",children:(0,o.T)(d())})]})]}),(0,n.jsx)("p",{className:"text-sm text-gray-mid mb-6",children:"Versandkosten werden im Checkout berechnet."}),(0,n.jsx)(s.default,{href:"/checkout",className:"block",children:(0,n.jsx)(c.Z,{variant:"primary",className:"w-full",children:"Zur Kasse"})}),(0,n.jsx)(s.default,{href:"/products",className:"block mt-4 text-center text-sm text-deep-forest hover:text-leaf-green",children:"Weiter einkaufen"})]})})]})]})}},9787:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437);function s(e){let{variant:t="primary",children:r,className:s="",...a}=e;return(0,n.jsx)("button",{className:"".concat("px-6 py-3 rounded-eco font-body font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-deep-forest text-white hover:bg-opacity-90 focus:ring-leaf-green",secondary:"border border-leaf-green bg-transparent text-deep-forest hover:bg-soft-mint focus:ring-leaf-green"}[t]," ").concat(s),...a,children:r})}r(2265)},2234:function(e,t,r){"use strict";r.d(t,{CartProvider:function(){return i},j:function(){return o}});var n=r(7437),s=r(2265);let a=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{c(!0);let e=localStorage.getItem("ecospark-cart");if(e)try{i(JSON.parse(e))}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,s.useEffect)(()=>{o&&localStorage.setItem("ecospark-cart",JSON.stringify(r))},[r,o]);let d=e=>{i(t=>t.filter(t=>t.product.id!==e))};return(0,n.jsx)(a.Provider,{value:{items:r,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i(r=>r.find(t=>t.product.id===e.id)?r.map(r=>r.product.id===e.id?{...r,quantity:r.quantity+t}:r):[...r,{product:e,quantity:t}])},removeFromCart:d,updateQuantity:(e,t)=>{if(t<=0){d(e);return}i(r=>r.map(r=>r.product.id===e?{...r,quantity:t}:r))},clearCart:()=>{i([])},getTotalPrice:()=>r.reduce((e,t)=>e+t.product.price*t.quantity,0),getTotalItems:()=>r.reduce((e,t)=>e+t.quantity,0)},children:t})}function o(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},7440:function(e,t,r){"use strict";function n(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)}r.d(t,{T:function(){return n}})},6648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(5601),s=r.n(n)},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(231),s=r.n(n)},5601:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return o}});let n=r(9920),s=r(497),a=r(8173),i=n._(r(1241));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/ecospark-shop/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=a.Image}},function(e){e.O(0,[231,173,971,23,744],function(){return e(e.s=9835)}),_N_E=e.O()}]);